{
  "provider": "Fireworks",
  "summary": {
    "intent_agent": {
      "accuracy": 0.8235294117647058,
      "total": 34,
      "correct": 28,
      "avg_confidence": 0.8058823529411765
    },
    "table_agent": {
      "avg_precision": 0.8480392156862745,
      "avg_recall": 0.9117647058823529,
      "avg_f1": 0.8676470588235294,
      "total": 34,
      "correct": 27
    },
    "column_prune_agent": {
      "avg_precision": 0.24010416666666667,
      "avg_recall": 0.19114583333333332,
      "avg_f1": 0.20032242063492062,
      "avg_token_savings": 83.25644838735906,
      "total": 32,
      "correct": 1
    },
    "sql_generation_agent": {
      "avg_sql_similarity": 0.8529411764705882,
      "sql_exact_match_rate": 0.6764705882352942,
      "result_match_rate": 0.38235294117647056,
      "total": 34,
      "correct": 23
    },
    "overall": {
      "accuracy": 0.5,
      "total": 34,
      "correct": 17
    },
    "latency_metrics": {
      "intent_agent": {
        "avg_latency_ms": 1075.449835170399,
        "min_latency_ms": 522.6869583129883,
        "max_latency_ms": 4540.5261516571045,
        "total_tokens": 15394,
        "tool_calls_rate": 0.0
      },
      "table_agent": {
        "avg_latency_ms": 1386.1396759748459,
        "min_latency_ms": 586.8518352508545,
        "max_latency_ms": 6011.9469165802,
        "total_tokens": 12404,
        "tool_calls_rate": 0.0
      },
      "column_prune_agent": {
        "avg_latency_ms": 1498.4646404490752,
        "min_latency_ms": 822.6549625396729,
        "max_latency_ms": 6053.107023239136,
        "total_tokens": 49919,
        "tool_calls_rate": 0.0
      },
      "sql_generation_agent": {
        "avg_latency_ms": 1273.2871696352959,
        "min_latency_ms": 819.1051483154297,
        "max_latency_ms": 4401.648759841919,
        "total_tokens": 23831,
        "tool_calls_rate": 0.0
      }
    }
  },
  "detailed_results": {
    "intent_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "predicted_workspace": "mobility",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What is the average trip amount?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "predicted_workspace": "vehicle_operations",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "predicted_workspace": "vehicle_operations",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "predicted_workspace": null,
        "expected_workspace": null,
        "correct": false,
        "confidence": 0.0,
        "error": "Model did not return valid function call. Response: {\"type\": \"function\", \"name\": \"classify_intent\", \"parameters\": {\"workspace_id\": \"mobility\", \"confidence\": \"0.9\", \"reasoning\": \"The question mentions \\\\\"drivers\\\\\" and \\\\\"New York\\\\\", which are related to trips and city details, making mobility the most suitable workspace\"}}"
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "predicted_workspace": "vehicle_operations",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "predicted_workspace": "promotions",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "predicted_workspace": "promotions",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "customer_analytics",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "customer_analytics",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.8,
        "error": null
      }
    ],
    "table_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "predicted_tables": [
          "drivers"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "predicted_tables": [
          "cities"
        ],
        "expected_tables": [
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "predicted_tables": [
          "trips",
          "cities"
        ],
        "expected_tables": [
          "trips",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "predicted_tables": [],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "Model did not return valid function call. Response: {\"type\": \"function\", \"name\": \"select_tables\", \"parameters\": {\"relevant_tables\": [\"trips\"], \"reasoning\": \"The table \\'trips\\' is needed because it contains the data field for the total number of trips.\"}}"
      },
      {
        "question": "What is the average trip amount?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "predicted_tables": [
          "drivers",
          "cities"
        ],
        "expected_tables": [
          "drivers",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "predicted_tables": [
          "trips",
          "cities"
        ],
        "expected_tables": [
          "trips",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "predicted_tables": [
          "trips",
          "drivers"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "predicted_tables": [
          "trips",
          "vehicles"
        ],
        "expected_tables": [
          "trips",
          "vehicles"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "predicted_tables": [
          "trips",
          "drivers",
          "vehicles"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.3333333333333333,
        "recall": 1.0,
        "f1": 0.5,
        "correct": false,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "predicted_tables": [
          "trips",
          "customers",
          "drivers",
          "cities"
        ],
        "expected_tables": [
          "trips",
          "customers",
          "drivers",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "predicted_tables": [
          "trips",
          "customers"
        ],
        "expected_tables": [
          "trips",
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "predicted_tables": [
          "trips",
          "vehicles"
        ],
        "expected_tables": [
          "trips",
          "vehicles"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "predicted_tables": [
          "trips",
          "drivers",
          "cities"
        ],
        "expected_tables": [
          "trips",
          "drivers",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "predicted_tables": [],
        "expected_tables": [
          "drivers",
          "cities"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "None"
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "predicted_tables": [
          "trips",
          "vehicles"
        ],
        "expected_tables": [
          "trips",
          "vehicles"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "predicted_tables": [
          "drivers"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "predicted_tables": [
          "trips",
          "drivers"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "predicted_tables": [
          "trips",
          "cities"
        ],
        "expected_tables": [
          "trips",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "predicted_tables": [
          "trips",
          "customers"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "predicted_tables": [
          "trip_promotions",
          "trips"
        ],
        "expected_tables": [
          "trip_promotions"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "predicted_tables": [
          "promotions"
        ],
        "expected_tables": [
          "trip_promotions"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "predicted_tables": [
          "customers"
        ],
        "expected_tables": [
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "predicted_tables": [
          "customers"
        ],
        "expected_tables": [
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "predicted_tables": [
          "trips",
          "drivers"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      }
    ],
    "column_prune_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "last_name",
          "first_name",
          "email",
          "status"
        ],
        "expected_columns": [
          "email",
          "last_name",
          "first_name"
        ],
        "precision": 0.6,
        "recall": 1.0,
        "f1": 0.7499999999999999,
        "token_savings_pct": 57.052797478329396,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "table": "trips",
        "predicted_columns": [
          "trip_id",
          "trip_status"
        ],
        "expected_columns": [
          "driver_id",
          "total_amount",
          "customer_id",
          "trip_id"
        ],
        "precision": 0.5,
        "recall": 0.25,
        "f1": 0.3333333333333333,
        "token_savings_pct": 89.593147751606,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "table": "cities",
        "predicted_columns": [
          "city_name",
          "state"
        ],
        "expected_columns": [
          "city_name"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "token_savings_pct": 70.02518891687657,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "table": "trips",
        "predicted_columns": [
          "pickup_city_id",
          "dropoff_city_id"
        ],
        "expected_columns": [
          "city_name",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 88.95074946466809,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average trip amount?",
        "table": "trips",
        "predicted_columns": [
          "total_amount"
        ],
        "expected_columns": [
          "AVG(total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 93.96145610278373,
        "correct": false,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "table": "drivers",
        "predicted_columns": [
          "city_id"
        ],
        "expected_columns": [
          "city_name",
          "COUNT(d.driver_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 88.8100866824271,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "table": "trips",
        "predicted_columns": [
          "pickup_city_id",
          "total_amount",
          "trip_id",
          "dropoff_city_id"
        ],
        "expected_columns": [
          "SUM(t.total_amount)",
          "city_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 80.04282655246253,
        "correct": false,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "table": "trips",
        "predicted_columns": [
          "driver_id",
          "trip_id"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.55032119914347,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "rating"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "AVG(t.rating)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 80.85106382978722,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "table": "trips",
        "predicted_columns": [
          "total_amount",
          "vehicle_id",
          "trip_type"
        ],
        "expected_columns": [
          "vehicle_type",
          "SUM(t.total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 84.9678800856531,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "table": "trips",
        "predicted_columns": [
          "pickup_time",
          "trip_id",
          "trip_status"
        ],
        "expected_columns": [
          "COUNT(*)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 84.92505353319058,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "table": "trips",
        "predicted_columns": [
          "total_amount",
          "pickup_time",
          "trip_status"
        ],
        "expected_columns": [
          "SUM(total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 84.83940042826552,
        "correct": false,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "table": "trips",
        "predicted_columns": [
          "pickup_time",
          "trip_id"
        ],
        "expected_columns": [
          "driver_id",
          "pickup_time",
          "customer_id",
          "trip_id"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "token_savings_pct": 89.37901498929335,
        "correct": false,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "table": "trips",
        "predicted_columns": [
          "driver_id",
          "pickup_city_id",
          "customer_id",
          "trip_id"
        ],
        "expected_columns": [
          "city_name",
          "total_amount",
          "first_name || ' ' || c.last_name",
          "trip_id",
          "first_name || ' ' || d.last_name"
        ],
        "precision": 0.25,
        "recall": 0.2,
        "f1": 0.22222222222222224,
        "token_savings_pct": 80.25695931477516,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "table": "trips",
        "predicted_columns": [
          "total_amount",
          "customer_id"
        ],
        "expected_columns": [
          "SUM(t.total_amount)",
          "first_name || ' ' || c.last_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.37901498929335,
        "correct": false,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "table": "trips",
        "predicted_columns": [
          "vehicle_id",
          "trip_id"
        ],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "make",
          "model"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.46466809421841,
        "correct": false,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "table": "trips",
        "predicted_columns": [
          "driver_id",
          "pickup_city_id",
          "trip_id"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "total_amount",
          "trip_id"
        ],
        "precision": 0.3333333333333333,
        "recall": 0.3333333333333333,
        "f1": 0.3333333333333333,
        "token_savings_pct": 84.83940042826552,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "table": "trips",
        "predicted_columns": [
          "vehicle_id",
          "trip_id",
          "trip_status"
        ],
        "expected_columns": [
          "total_amount",
          "pickup_time",
          "trip_id"
        ],
        "precision": 0.3333333333333333,
        "recall": 0.3333333333333333,
        "f1": 0.3333333333333333,
        "token_savings_pct": 85.01070663811564,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "table": "trips",
        "predicted_columns": [
          "fare_amount",
          "total_amount",
          "trip_id"
        ],
        "expected_columns": [
          "driver_id",
          "total_amount",
          "customer_id",
          "trip_id"
        ],
        "precision": 0.6666666666666666,
        "recall": 0.5,
        "f1": 0.5714285714285715,
        "token_savings_pct": 85.09635974304068,
        "correct": false,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "rating"
        ],
        "expected_columns": [
          "first_name || ' ' || last_name",
          "rating",
          "total_trips"
        ],
        "precision": 0.5,
        "recall": 0.3333333333333333,
        "f1": 0.4,
        "token_savings_pct": 80.85106382978722,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "table": "trips",
        "predicted_columns": [
          "duration_minutes",
          "trip_id"
        ],
        "expected_columns": [
          "total_amount",
          "distance_miles",
          "duration_minutes",
          "trip_id"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "token_savings_pct": 89.20770877944325,
        "correct": false,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "table": "trips",
        "predicted_columns": [
          "driver_id",
          "trip_id"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.55032119914347,
        "correct": false,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "table": "trips",
        "predicted_columns": [
          "pickup_city_id",
          "trip_id",
          "dropoff_city_id"
        ],
        "expected_columns": [
          "city_name",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 84.53961456102785,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "table": "trips",
        "predicted_columns": [
          "trip_status"
        ],
        "expected_columns": [
          "COUNT(*)",
          "trip_status"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "token_savings_pct": 94.00428265524626,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "table": "trips",
        "predicted_columns": [
          "total_amount",
          "trip_status"
        ],
        "expected_columns": [
          "AVG(total_amount)",
          "COUNT(*)",
          "trip_status"
        ],
        "precision": 0.5,
        "recall": 0.3333333333333333,
        "f1": 0.4,
        "token_savings_pct": 89.50749464668094,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "table": "trips",
        "predicted_columns": [
          "total_amount",
          "payment_method"
        ],
        "expected_columns": [
          "COUNT(*)",
          "payment_method",
          "SUM(total_amount)"
        ],
        "precision": 0.5,
        "recall": 0.3333333333333333,
        "f1": 0.4,
        "token_savings_pct": 89.33618843683084,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "table": "trip_promotions",
        "predicted_columns": [
          "trip_id",
          "promotion_id"
        ],
        "expected_columns": [
          "COUNT(DISTINCT trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 54.946996466431095,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "table": "promotions",
        "predicted_columns": [
          "discount_value"
        ],
        "expected_columns": [
          "SUM(discount_applied)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 86.68453976764968,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "table": "customers",
        "predicted_columns": [
          "customer_id",
          "lifetime_value"
        ],
        "expected_columns": [
          "AVG(lifetime_value)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 76.23026926648096,
        "correct": false,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "table": "customers",
        "predicted_columns": [
          "signup_date"
        ],
        "expected_columns": [
          "COUNT(*)",
          "signup_date)",
          "strftime('%Y-%m'"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 86.53667595171774,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "table": "trips",
        "predicted_columns": [
          "driver_id",
          "trip_id"
        ],
        "expected_columns": [
          "AVG(total_trips)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.55032119914347,
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "last_name",
          "first_name",
          "rating",
          "total_trips"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "AVG(t.rating)",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 56.26477541371159,
        "correct": false,
        "error": null
      }
    ],
    "sql_generation_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "generated_sql": "SELECT first_name, last_name, email FROM drivers WHERE status = 'active'",
        "expected_sql": "SELECT first_name, last_name, email FROM drivers WHERE status = 'active'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 19,
          "expected_rows": 19,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "generated_sql": "SELECT * FROM trips WHERE trip_status = 'completed'",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, total_amount FROM trips WHERE trip_status = 'completed'",
        "sql_similarity": 0.6000000000000001,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 250,
          "expected_rows": 250,
          "column_match": false,
          "actual_columns": [
            "distance_miles",
            "customer_id",
            "dropoff_time",
            "driver_id",
            "vehicle_id",
            "dropoff_city_id",
            "total_amount",
            "trip_status",
            "pickup_time",
            "payment_method",
            "fare_amount",
            "duration_minutes",
            "trip_type",
            "trip_id",
            "rating",
            "pickup_city_id",
            "tip_amount"
          ],
          "expected_columns": [
            "driver_id",
            "total_amount",
            "customer_id",
            "trip_id"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "generated_sql": "SELECT city_name FROM cities WHERE state = 'California'",
        "expected_sql": "SELECT city_name FROM cities WHERE state = 'California'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 2,
          "expected_rows": 2,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "generated_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY trip_count DESC",
        "expected_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c LEFT JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "generated_sql": "SELECT COUNT(*) as trip_count FROM trips",
        "expected_sql": "SELECT COUNT(*) as total_trips FROM trips",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "trip_count"
          ],
          "expected_columns": [
            "total_trips"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount?",
        "generated_sql": "SELECT AVG(total_amount) as average_trip_amount FROM trips",
        "expected_sql": "SELECT AVG(total_amount) as avg_amount FROM trips",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "average_trip_amount"
          ],
          "expected_columns": [
            "avg_amount"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "generated_sql": "SELECT c.city_name, COUNT(d.driver_id) as driver_count FROM cities c JOIN drivers d ON c.city_id = d.city_id GROUP BY c.city_id, c.city_name ORDER BY driver_count DESC",
        "expected_sql": "SELECT c.city_name, COUNT(d.driver_id) as driver_count FROM cities c LEFT JOIN drivers d ON c.city_id = d.city_id GROUP BY c.city_id, c.city_name ORDER BY driver_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "generated_sql": "SELECT c.city_name, SUM(t.total_amount) as total_revenue FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY total_revenue DESC LIMIT 5",
        "expected_sql": "SELECT c.city_name, SUM(t.total_amount) as total_revenue FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY total_revenue DESC LIMIT 5",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY trip_count DESC LIMIT 1",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY trip_count DESC LIMIT 1",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "generated_sql": "SELECT d.driver_id, AVG(d.rating) as average_rating FROM drivers d GROUP BY d.driver_id",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, AVG(t.rating) as avg_rating FROM drivers d LEFT JOIN trips t ON d.driver_id = t.driver_id AND t.rating IS NOT NULL GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.rating) > 0 ORDER BY avg_rating DESC",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 50,
          "expected_rows": 50,
          "column_match": false,
          "actual_columns": [
            "driver_id",
            "average_rating"
          ],
          "expected_columns": [
            "avg_rating",
            "driver_name"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "generated_sql": "SELECT v.vehicle_type, SUM(t.total_amount) as total_revenue FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id WHERE t.trip_status = 'completed' GROUP BY v.vehicle_type ORDER BY total_revenue DESC",
        "expected_sql": "SELECT v.vehicle_type, SUM(t.total_amount) as total_revenue FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.vehicle_type ORDER BY total_revenue DESC",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "vehicle_type",
              "actual": "sedan",
              "expected": "suv"
            },
            {
              "row": 0,
              "column": "total_revenue",
              "actual": 2164.05,
              "expected": 8388.6
            },
            {
              "row": 1,
              "column": "vehicle_type",
              "actual": "suv",
              "expected": "sedan"
            },
            {
              "row": 1,
              "column": "total_revenue",
              "actual": 2024.66,
              "expected": 8345.85
            },
            {
              "row": 2,
              "column": "total_revenue",
              "actual": 1630.46,
              "expected": 7072.25
            }
          ]
        },
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "generated_sql": "SELECT COUNT(*) as trip_count FROM trips WHERE trip_status = 'completed' AND date(pickup_time) >= date('now', '-7 day')",
        "expected_sql": "SELECT COUNT(*) as trip_count FROM trips WHERE trip_status = 'completed' AND pickup_time >= datetime('now', '-7 days')",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "trip_count",
              "actual": 65,
              "expected": 71
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "generated_sql": "SELECT SUM(t.total_amount) as total_revenue FROM trips t WHERE t.trip_status = 'completed' AND STRFTIME('%Y', t.pickup_time) = '2025' AND STRFTIME('%m', t.pickup_time) = '12'",
        "expected_sql": "SELECT SUM(total_amount) as total_revenue FROM trips WHERE trip_status = 'completed' AND strftime('%Y-%m', pickup_time) = '2025-12'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "generated_sql": "SELECT * FROM trips WHERE date(pickup_time) = date('now')",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, pickup_time FROM trips WHERE trip_status = 'scheduled' AND date(pickup_time) = date('now')",
        "sql_similarity": 0.4,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 0,
          "expected_rows": 6,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "generated_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, c.first_name || ' ' || c.last_name as customer_name, ci.city_name as pickup_city FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN customers c ON t.customer_id = c.customer_id JOIN cities ci ON t.pickup_city_id = ci.city_id",
        "expected_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, c.first_name || ' ' || c.last_name as customer_name, ci.city_name as pickup_city, t.total_amount FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN customers c ON t.customer_id = c.customer_id JOIN cities ci ON t.pickup_city_id = ci.city_id LIMIT 10",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 1000,
          "expected_rows": 10,
          "column_match": null,
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "generated_sql": "SELECT c.first_name || ' ' || c.last_name as customer_name, SUM(t.total_amount) as total_spent FROM customers c JOIN trips t ON c.customer_id = t.customer_id WHERE t.trip_status = 'completed' GROUP BY c.customer_id, c.first_name, c.last_name ORDER BY total_spent DESC LIMIT 5",
        "expected_sql": "SELECT c.first_name || ' ' || c.last_name as customer_name, SUM(t.total_amount) as total_spent FROM customers c JOIN trips t ON c.customer_id = t.customer_id WHERE t.trip_status = 'completed' GROUP BY c.customer_id, c.first_name, c.last_name ORDER BY total_spent DESC LIMIT 5",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "generated_sql": "SELECT v.make, v.model, COUNT(t.trip_id) as trip_count FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.make, v.model ORDER BY trip_count DESC LIMIT 1",
        "expected_sql": "SELECT v.make, v.model, COUNT(t.trip_id) as trip_count FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.make, v.model ORDER BY trip_count DESC LIMIT 1",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "generated_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, c.city_name FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN cities c ON t.pickup_city_id = c.city_id WHERE c.city_name = 'Seattle'",
        "expected_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, t.total_amount FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN cities c ON t.pickup_city_id = c.city_id WHERE c.city_name = 'Seattle'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 110,
          "expected_rows": 110,
          "column_match": false,
          "actual_columns": [
            "city_name",
            "trip_id",
            "driver_name"
          ],
          "expected_columns": [
            "total_amount",
            "trip_id",
            "driver_name"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "generated_sql": "",
        "expected_sql": "SELECT d.first_name, d.last_name, d.email, d.rating FROM drivers d JOIN cities c ON d.city_id = c.city_id WHERE d.status = 'active' AND c.city_name = 'New York'",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "None"
        },
        "correct": false,
        "error": "None"
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "generated_sql": "SELECT t.trip_id FROM trips t JOIN vehicles v ON t.vehicle_id = v.vehicle_id WHERE v.make = \"Tesla\" AND t.trip_status = \"completed\"",
        "expected_sql": "SELECT t.trip_id, t.total_amount, t.pickup_time FROM trips t JOIN vehicles v ON t.vehicle_id = v.vehicle_id WHERE v.make = 'Tesla' AND t.trip_status = 'completed'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 35,
          "expected_rows": 35,
          "column_match": false,
          "actual_columns": [
            "trip_id"
          ],
          "expected_columns": [
            "total_amount",
            "pickup_time",
            "trip_id"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "generated_sql": "SELECT trip_id, total_amount FROM trips ORDER BY total_amount DESC LIMIT 10",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, total_amount FROM trips ORDER BY total_amount DESC LIMIT 10",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": false,
          "actual_columns": [
            "total_amount",
            "trip_id"
          ],
          "expected_columns": [
            "driver_id",
            "total_amount",
            "customer_id",
            "trip_id"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "generated_sql": "",
        "expected_sql": "SELECT first_name || ' ' || last_name as driver_name, rating, total_trips FROM drivers WHERE rating IS NOT NULL ORDER BY rating DESC LIMIT 5",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "Model did not return valid function call. Response: {\"type\": \"function\", \"name\": \"generate_sql\", \"parameters\": {\"sql_query\": \"SELECT first_name || \\' \\' || last_name as driver_name, rating FROM drivers ORDER BY rating DESC LIMIT 5\", \"explanation\": \"This query selects the first name, last name, and rating of drivers from the drivers table, orders them by rating in descending order, and limits the results to the top 5 highest rated drivers.\", \"tables_used\": \"[\\\"drivers\\\"]\"}}"
        },
        "correct": false,
        "error": "Model did not return valid function call. Response: {\"type\": \"function\", \"name\": \"generate_sql\", \"parameters\": {\"sql_query\": \"SELECT first_name || \\' \\' || last_name as driver_name, rating FROM drivers ORDER BY rating DESC LIMIT 5\", \"explanation\": \"This query selects the first name, last name, and rating of drivers from the drivers table, orders them by rating in descending order, and limits the results to the top 5 highest rated drivers.\", \"tables_used\": \"[\\\"drivers\\\"]\"}}"
      },
      {
        "question": "What are the longest trips by duration?",
        "generated_sql": "SELECT trip_id, duration_minutes FROM trips ORDER BY duration_minutes DESC",
        "expected_sql": "SELECT trip_id, distance_miles, duration_minutes, total_amount FROM trips WHERE duration_minutes IS NOT NULL ORDER BY duration_minutes DESC LIMIT 5",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 1000,
          "expected_rows": 5,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 20 ORDER BY trip_count DESC",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 20 ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 0,
          "expected_rows": 0,
          "column_match": true,
          "value_match": true
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "generated_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name HAVING COUNT(t.trip_id) > 100",
        "expected_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name HAVING COUNT(t.trip_id) > 100 ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 3,
          "expected_rows": 3,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "city_name",
              "actual": "Seattle",
              "expected": "Chicago"
            },
            {
              "row": 0,
              "column": "trip_count",
              "actual": 110,
              "expected": 115
            },
            {
              "row": 1,
              "column": "city_name",
              "actual": "Chicago",
              "expected": "Seattle"
            },
            {
              "row": 1,
              "column": "trip_count",
              "actual": 115,
              "expected": 110
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "generated_sql": "SELECT trip_status, COUNT(*) as trip_count FROM trips GROUP BY trip_status",
        "expected_sql": "SELECT trip_status, COUNT(*) as count FROM trips GROUP BY trip_status ORDER BY count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": false,
          "actual_columns": [
            "trip_count",
            "trip_status"
          ],
          "expected_columns": [
            "trip_status",
            "count"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "generated_sql": "SELECT trip_status, AVG(total_amount) as average_trip_amount FROM trips GROUP BY trip_status",
        "expected_sql": "SELECT trip_status, AVG(total_amount) as avg_amount, COUNT(*) as count FROM trips GROUP BY trip_status ORDER BY avg_amount DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": false,
          "actual_columns": [
            "average_trip_amount",
            "trip_status"
          ],
          "expected_columns": [
            "avg_amount",
            "trip_status",
            "count"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "generated_sql": "SELECT payment_method, SUM(total_amount) as total_revenue FROM trips GROUP BY payment_method ORDER BY total_revenue DESC",
        "expected_sql": "SELECT payment_method, SUM(total_amount) as total_revenue, COUNT(*) as trip_count FROM trips WHERE payment_method IS NOT NULL GROUP BY payment_method ORDER BY total_revenue DESC",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": false,
          "actual_columns": [
            "payment_method",
            "total_revenue"
          ],
          "expected_columns": [
            "trip_count",
            "payment_method",
            "total_revenue"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "generated_sql": "SELECT COUNT(DISTINCT trip_id) as trips_with_promotions FROM trip_promotions",
        "expected_sql": "SELECT COUNT(DISTINCT trip_id) as trips_with_promotions FROM trip_promotions",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "generated_sql": "SELECT SUM(discount_value) as total_discount FROM promotions",
        "expected_sql": "SELECT SUM(discount_applied) as total_discount FROM trip_promotions",
        "sql_similarity": 0.6000000000000001,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "total_discount",
              "actual": 75.0,
              "expected": 1198.89
            }
          ]
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "generated_sql": "SELECT AVG(lifetime_value) as avg_lifetime_value FROM customers",
        "expected_sql": "SELECT AVG(lifetime_value) as avg_lifetime_value FROM customers",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "generated_sql": "SELECT strftime('%Y-%m', signup_date) as signup_month, COUNT(*) as customer_count FROM customers WHERE signup_date IS NOT NULL GROUP BY signup_month ORDER BY signup_month DESC",
        "expected_sql": "SELECT strftime('%Y-%m', signup_date) as signup_month, COUNT(*) as customer_count FROM customers WHERE signup_date IS NOT NULL GROUP BY signup_month ORDER BY signup_month DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 24,
          "expected_rows": 24,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "generated_sql": "SELECT AVG(trip_count) as average_trip_count FROM (SELECT driver_id, COUNT(trip_id) as trip_count FROM trips GROUP BY driver_id)",
        "expected_sql": "SELECT AVG(total_trips) as avg_trips FROM drivers",
        "sql_similarity": 0.4,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "average_trip_count"
          ],
          "expected_columns": [
            "avg_trips"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as total_trips, AVG(t.rating) as average_rating FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY total_trips DESC",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as completed_trips, AVG(t.rating) as avg_rating FROM drivers d LEFT JOIN trips t ON d.driver_id = t.driver_id AND t.trip_status = 'completed' AND t.rating IS NOT NULL GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 0 ORDER BY completed_trips DESC LIMIT 10",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 50,
          "expected_rows": 10,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      }
    ],
    "overall": [
      {
        "question": "What are the names and emails of all active drivers?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "List all trips that were completed",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What are the names of all cities in California?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many trips does each city have?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total number of trips in the database?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What is the average trip amount?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many drivers are in each city?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Which driver has completed the most trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average rating for each driver?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "List all trips scheduled for today",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "List all trips in Seattle with driver names",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Show all active drivers in New York",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the 10 most expensive trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What are the longest trips by duration?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What cities have more than 100 trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many trips are in each status?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total revenue by payment method?",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "How many trips used promotions?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What is the total discount applied from promotions?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "What is the average lifetime value of customers?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many customers signed up in each month?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average trip count per driver?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      }
    ]
  },
  "agent_metrics": {
    "intent_agent": {
      "total_calls": 34,
      "successful_calls": 33,
      "success_rate": 0.9705882352941176,
      "avg_latency_ms": 1075.449835170399,
      "min_latency_ms": 522.6869583129883,
      "max_latency_ms": 4540.5261516571045,
      "avg_tokens": 466.4848484848485,
      "total_tokens": 15394,
      "tool_calls_usage": {
        "structured_tool_calls": 0,
        "fallback_parsing": 33,
        "tool_calls_rate": 0.0
      }
    },
    "table_agent": {
      "total_calls": 33,
      "successful_calls": 32,
      "success_rate": 0.9696969696969697,
      "avg_latency_ms": 1386.1396759748459,
      "min_latency_ms": 586.8518352508545,
      "max_latency_ms": 6011.9469165802,
      "avg_tokens": 387.625,
      "total_tokens": 12404,
      "tool_calls_usage": {
        "structured_tool_calls": 0,
        "fallback_parsing": 32,
        "tool_calls_rate": 0.0
      }
    },
    "column_prune_agent": {
      "total_calls": 86,
      "successful_calls": 85,
      "success_rate": 0.9883720930232558,
      "avg_latency_ms": 1498.4646404490752,
      "min_latency_ms": 822.6549625396729,
      "max_latency_ms": 6053.107023239136,
      "avg_tokens": 587.2823529411764,
      "total_tokens": 49919,
      "tool_calls_usage": {
        "structured_tool_calls": 0,
        "fallback_parsing": 85,
        "tool_calls_rate": 0.0
      }
    },
    "sql_generation_agent": {
      "total_calls": 33,
      "successful_calls": 32,
      "success_rate": 0.9696969696969697,
      "avg_latency_ms": 1273.2871696352959,
      "min_latency_ms": 819.1051483154297,
      "max_latency_ms": 4401.648759841919,
      "avg_tokens": 744.71875,
      "total_tokens": 23831,
      "tool_calls_usage": {
        "structured_tool_calls": 0,
        "fallback_parsing": 32,
        "tool_calls_rate": 0.0
      }
    }
  }
}