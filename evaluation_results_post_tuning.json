{
  "summary": {
    "intent_agent": {
      "accuracy": 0.7058823529411765,
      "total": 34,
      "correct": 24,
      "avg_confidence": 0.7823529411764705
    },
    "table_agent": {
      "avg_precision": 0.6715686274509803,
      "avg_recall": 0.6911764705882353,
      "avg_f1": 0.6715686274509803,
      "total": 34,
      "correct": 21
    },
    "column_prune_agent": {
      "avg_precision": 0.2033333333333333,
      "avg_recall": 0.14133333333333334,
      "avg_f1": 0.16152380952380951,
      "avg_token_savings": 64.45674476576292,
      "total": 25,
      "correct": 0
    },
    "sql_generation_agent": {
      "avg_sql_similarity": 0.7156862745098039,
      "sql_exact_match_rate": 0.5588235294117647,
      "result_match_rate": 0.29411764705882354,
      "total": 34,
      "correct": 19
    },
    "overall": {
      "accuracy": 0.35294117647058826,
      "total": 34,
      "correct": 12
    },
    "latency_metrics": {
      "intent_agent": {
        "avg_latency_ms": 941.4788910320827,
        "min_latency_ms": 586.8628025054932,
        "max_latency_ms": 6514.439821243286,
        "total_tokens": 12281,
        "tool_calls_rate": 1.0
      },
      "table_agent": {
        "avg_latency_ms": 1146.7094898223877,
        "min_latency_ms": 615.4587268829346,
        "max_latency_ms": 8590.335845947266,
        "total_tokens": 9565,
        "tool_calls_rate": 1.0
      },
      "column_prune_agent": {
        "avg_latency_ms": 1143.70031441961,
        "min_latency_ms": 679.1799068450928,
        "max_latency_ms": 5161.312818527222,
        "total_tokens": 29837,
        "tool_calls_rate": 1.0
      },
      "sql_generation_agent": {
        "avg_latency_ms": 1333.630791077247,
        "min_latency_ms": 696.0129737854004,
        "max_latency_ms": 9385.648012161255,
        "total_tokens": 18852,
        "tool_calls_rate": 1.0
      }
    }
  },
  "detailed_results": {
    "intent_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "predicted_workspace": null,
        "expected_workspace": null,
        "correct": false,
        "confidence": 0.0,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-b6ab405ab0264e69b5a7f2544154aa14'}"
      },
      {
        "question": "List all trips that were completed",
        "predicted_workspace": null,
        "expected_workspace": null,
        "correct": false,
        "confidence": 0.0,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-19232b335d1b48f29fef37be20ed2821'}"
      },
      {
        "question": "What are the names of all cities in California?",
        "predicted_workspace": null,
        "expected_workspace": null,
        "correct": false,
        "confidence": 0.0,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-096ed2c68a1f4886bd67343f156f2253'}"
      },
      {
        "question": "How many trips does each city have?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "predicted_workspace": null,
        "expected_workspace": null,
        "correct": false,
        "confidence": 0.0,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-002367e690664173b934c4ef9015a203'}"
      },
      {
        "question": "What is the average trip amount?",
        "predicted_workspace": null,
        "expected_workspace": null,
        "correct": false,
        "confidence": 0.0,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-880e458d61bd4e93a501129943924dbf'}"
      },
      {
        "question": "How many drivers are in each city?",
        "predicted_workspace": null,
        "expected_workspace": null,
        "correct": false,
        "confidence": 0.0,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-425c175992484c2bad6c3d7fa345d0f9'}"
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "predicted_workspace": "vehicle_operations",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "predicted_workspace": "vehicle_operations",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "predicted_workspace": "promotions",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "predicted_workspace": "promotions",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "customer_analytics",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "customer_analytics",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      }
    ],
    "table_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "predicted_tables": [],
        "expected_tables": [
          "drivers"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "None"
      },
      {
        "question": "List all trips that were completed",
        "predicted_tables": [],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "None"
      },
      {
        "question": "What are the names of all cities in California?",
        "predicted_tables": [],
        "expected_tables": [
          "cities"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "None"
      },
      {
        "question": "How many trips does each city have?",
        "predicted_tables": [
          "cities",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "predicted_tables": [],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "None"
      },
      {
        "question": "What is the average trip amount?",
        "predicted_tables": [],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "None"
      },
      {
        "question": "How many drivers are in each city?",
        "predicted_tables": [],
        "expected_tables": [
          "cities",
          "drivers"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "None"
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "predicted_tables": [
          "cities",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "predicted_tables": [
          "drivers"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "predicted_tables": [
          "trips",
          "vehicles"
        ],
        "expected_tables": [
          "trips",
          "vehicles"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "predicted_tables": [],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-c96d7f7484e94a7984bafbac8073e6d0'}"
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "predicted_tables": [],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-e7f41eb940ea4f90bc2c9fc2aa2c790c'}"
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "predicted_tables": [
          "cities",
          "drivers",
          "customers",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "drivers",
          "customers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "predicted_tables": [
          "customers",
          "trips"
        ],
        "expected_tables": [
          "customers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "predicted_tables": [
          "trips",
          "vehicles"
        ],
        "expected_tables": [
          "trips",
          "vehicles"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "predicted_tables": [
          "cities",
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "predicted_tables": [
          "cities",
          "drivers"
        ],
        "expected_tables": [
          "cities",
          "drivers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "predicted_tables": [
          "trips",
          "vehicles"
        ],
        "expected_tables": [
          "trips",
          "vehicles"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "predicted_tables": [
          "drivers"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "predicted_tables": [],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-39d5c6b1e1a44079bee195eeb67efba8'}"
      },
      {
        "question": "What cities have more than 100 trips?",
        "predicted_tables": [
          "cities",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "predicted_tables": [
          "trip_promotions",
          "promotions",
          "trips"
        ],
        "expected_tables": [
          "trip_promotions"
        ],
        "precision": 0.3333333333333333,
        "recall": 1.0,
        "f1": 0.5,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "predicted_tables": [
          "promotions"
        ],
        "expected_tables": [
          "trip_promotions"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "predicted_tables": [
          "customers"
        ],
        "expected_tables": [
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "predicted_tables": [
          "customers"
        ],
        "expected_tables": [
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      }
    ],
    "column_prune_agent": [
      {
        "question": "How many trips does each city have?",
        "table": "cities",
        "predicted_columns": [
          "city_name",
          "city_id"
        ],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "city_name"
        ],
        "precision": 0.5,
        "recall": 0.5,
        "f1": 0.5,
        "token_savings_pct": 69.52141057934509,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "table": "cities",
        "predicted_columns": [],
        "expected_columns": [
          "SUM(t.total_amount)",
          "city_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-27fce7d3543440198a30e3cd76239cc1'}"
      },
      {
        "question": "Which driver has completed the most trips?",
        "table": "drivers",
        "predicted_columns": [],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "first_name || ' ' || d.last_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-7766f649135e47e7906fa1a4796c80cc'}"
      },
      {
        "question": "What is the average rating for each driver?",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "rating"
        ],
        "expected_columns": [
          "AVG(t.rating)",
          "first_name || ' ' || d.last_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 80.85106382978722,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "table": "trips",
        "predicted_columns": [
          "vehicle_id",
          "total_amount"
        ],
        "expected_columns": [
          "vehicle_type",
          "SUM(t.total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.37901498929335,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "table": "trips",
        "predicted_columns": [],
        "expected_columns": [
          "SUM(total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-f44bc11024a64cf186f7ceb2543150eb'}"
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "table": "cities",
        "predicted_columns": [
          "city_name",
          "city_id"
        ],
        "expected_columns": [
          "city_name",
          "first_name || ' ' || d.last_name",
          "total_amount",
          "first_name || ' ' || c.last_name",
          "trip_id"
        ],
        "precision": 0.5,
        "recall": 0.2,
        "f1": 0.28571428571428575,
        "token_savings_pct": 69.52141057934509,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "table": "customers",
        "predicted_columns": [
          "lifetime_value",
          "customer_id"
        ],
        "expected_columns": [
          "SUM(t.total_amount)",
          "first_name || ' ' || c.last_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 76.23026926648096,
        "correct": false,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "table": "trips",
        "predicted_columns": [
          "vehicle_id",
          "trip_id"
        ],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "make",
          "model"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.46466809421841,
        "correct": false,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "table": "cities",
        "predicted_columns": [
          "city_name"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "total_amount",
          "trip_id"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 82.49370277078086,
        "correct": false,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "table": "cities",
        "predicted_columns": [
          "city_name"
        ],
        "expected_columns": [
          "last_name",
          "email",
          "rating",
          "first_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 82.49370277078086,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "table": "trips",
        "predicted_columns": [
          "vehicle_id",
          "trip_status",
          "trip_id"
        ],
        "expected_columns": [
          "total_amount",
          "pickup_time",
          "trip_id"
        ],
        "precision": 0.3333333333333333,
        "recall": 0.3333333333333333,
        "f1": 0.3333333333333333,
        "token_savings_pct": 85.01070663811564,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "table": "trips",
        "predicted_columns": [
          "total_amount",
          "trip_id"
        ],
        "expected_columns": [
          "driver_id",
          "total_amount",
          "customer_id",
          "trip_id"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "token_savings_pct": 89.55032119914347,
        "correct": false,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "table": "drivers",
        "predicted_columns": [
          "last_name",
          "driver_id",
          "rating",
          "first_name"
        ],
        "expected_columns": [
          "first_name || ' ' || last_name",
          "total_trips",
          "rating"
        ],
        "precision": 0.25,
        "recall": 0.3333333333333333,
        "f1": 0.28571428571428575,
        "token_savings_pct": 64.69661150512215,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "table": "trips",
        "predicted_columns": [
          "duration_minutes",
          "trip_id"
        ],
        "expected_columns": [
          "duration_minutes",
          "distance_miles",
          "total_amount",
          "trip_id"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "token_savings_pct": 89.20770877944325,
        "correct": false,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "table": "cities",
        "predicted_columns": [
          "city_name",
          "city_id"
        ],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "city_name"
        ],
        "precision": 0.5,
        "recall": 0.5,
        "f1": 0.5,
        "token_savings_pct": 69.52141057934509,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "table": "trips",
        "predicted_columns": [],
        "expected_columns": [
          "trip_status",
          "COUNT(*)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-a8cc9a4d4b414d80aa2c36bf0cb264f9'}"
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "table": "trips",
        "predicted_columns": [
          "trip_status",
          "total_amount"
        ],
        "expected_columns": [
          "trip_status",
          "AVG(total_amount)",
          "COUNT(*)"
        ],
        "precision": 0.5,
        "recall": 0.3333333333333333,
        "f1": 0.4,
        "token_savings_pct": 89.50749464668094,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "table": "trips",
        "predicted_columns": [
          "payment_method",
          "total_amount"
        ],
        "expected_columns": [
          "payment_method",
          "COUNT(*)",
          "SUM(total_amount)"
        ],
        "precision": 0.5,
        "recall": 0.3333333333333333,
        "f1": 0.4,
        "token_savings_pct": 89.33618843683084,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "table": "trip_promotions",
        "predicted_columns": [
          "promotion_id",
          "trip_id"
        ],
        "expected_columns": [
          "COUNT(DISTINCT trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 54.946996466431095,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "table": "promotions",
        "predicted_columns": [
          "discount_value"
        ],
        "expected_columns": [
          "SUM(discount_applied)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 86.68453976764968,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "table": "customers",
        "predicted_columns": [
          "lifetime_value"
        ],
        "expected_columns": [
          "AVG(lifetime_value)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 86.1652739090065,
        "correct": false,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "table": "customers",
        "predicted_columns": [
          "signup_date"
        ],
        "expected_columns": [
          "strftime('%Y-%m'",
          "COUNT(*)",
          "signup_date)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 86.53667595171774,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "total_trips"
        ],
        "expected_columns": [
          "AVG(total_trips)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 80.29944838455478,
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "table": "drivers",
        "predicted_columns": [],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "AVG(t.rating)",
          "first_name || ' ' || d.last_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 0.0,
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-e26b1910ca4448699082bc0cb5a1aade'}"
      }
    ],
    "sql_generation_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "generated_sql": "",
        "expected_sql": "SELECT first_name, last_name, email FROM drivers WHERE status = 'active'",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "None"
        },
        "correct": false,
        "error": "None"
      },
      {
        "question": "List all trips that were completed",
        "generated_sql": "",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, total_amount FROM trips WHERE trip_status = 'completed'",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "None"
        },
        "correct": false,
        "error": "None"
      },
      {
        "question": "What are the names of all cities in California?",
        "generated_sql": "",
        "expected_sql": "SELECT city_name FROM cities WHERE state = 'California'",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "None"
        },
        "correct": false,
        "error": "None"
      },
      {
        "question": "How many trips does each city have?",
        "generated_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c LEFT JOIN trips t ON c.city_id = t.pickup_city_id OR c.city_id = t.dropoff_city_id GROUP BY c.city_id, c.city_name ORDER BY trip_count DESC",
        "expected_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c LEFT JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "city_name",
              "actual": "Seattle",
              "expected": "Chicago"
            },
            {
              "row": 0,
              "column": "trip_count",
              "actual": 206,
              "expected": 115
            },
            {
              "row": 1,
              "column": "city_name",
              "actual": "Chicago",
              "expected": "Seattle"
            },
            {
              "row": 1,
              "column": "trip_count",
              "actual": 200,
              "expected": 110
            },
            {
              "row": 2,
              "column": "city_name",
              "actual": "Boston",
              "expected": "Portland"
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "generated_sql": "",
        "expected_sql": "SELECT COUNT(*) as total_trips FROM trips",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "None"
        },
        "correct": false,
        "error": "None"
      },
      {
        "question": "What is the average trip amount?",
        "generated_sql": "",
        "expected_sql": "SELECT AVG(total_amount) as avg_amount FROM trips",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "None"
        },
        "correct": false,
        "error": "None"
      },
      {
        "question": "How many drivers are in each city?",
        "generated_sql": "",
        "expected_sql": "SELECT c.city_name, COUNT(d.driver_id) as driver_count FROM cities c LEFT JOIN drivers d ON c.city_id = d.city_id GROUP BY c.city_id, c.city_name ORDER BY driver_count DESC",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "None"
        },
        "correct": false,
        "error": "None"
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "generated_sql": "",
        "expected_sql": "SELECT c.city_name, SUM(t.total_amount) as total_revenue FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY total_revenue DESC LIMIT 5",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-8481c967e0ea4f729b8c74ed2429e01b'}"
        },
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-8481c967e0ea4f729b8c74ed2429e01b'}"
      },
      {
        "question": "Which driver has completed the most trips?",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY trip_count DESC LIMIT 1",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY trip_count DESC LIMIT 1",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "generated_sql": "",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, AVG(t.rating) as avg_rating FROM drivers d LEFT JOIN trips t ON d.driver_id = t.driver_id AND t.rating IS NOT NULL GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.rating) > 0 ORDER BY avg_rating DESC",
        "sql_similarity": 0.0,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-e17f2908ac4f4b7cbaf28cf7162433c9'}"
        },
        "correct": false,
        "error": "Error code: 404 - {'error': {'message': 'Model not found, inaccessible, and/or not deployed', 'param': 'model', 'code': 'NOT_FOUND', 'type': 'error'}, 'request_id': 'chatcmpl-e17f2908ac4f4b7cbaf28cf7162433c9'}"
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "generated_sql": "SELECT v.vehicle_type, SUM(t.total_amount) as total_revenue FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id WHERE t.trip_status = 'completed' GROUP BY v.vehicle_type ORDER BY total_revenue DESC",
        "expected_sql": "SELECT v.vehicle_type, SUM(t.total_amount) as total_revenue FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.vehicle_type ORDER BY total_revenue DESC",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "vehicle_type",
              "actual": "sedan",
              "expected": "suv"
            },
            {
              "row": 0,
              "column": "total_revenue",
              "actual": 2164.05,
              "expected": 8388.6
            },
            {
              "row": 1,
              "column": "vehicle_type",
              "actual": "suv",
              "expected": "sedan"
            },
            {
              "row": 1,
              "column": "total_revenue",
              "actual": 2024.66,
              "expected": 8345.85
            },
            {
              "row": 2,
              "column": "total_revenue",
              "actual": 1630.46,
              "expected": 7072.25
            }
          ]
        },
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "generated_sql": "SELECT COUNT(*) as trip_count FROM trips WHERE trip_status = 'completed' AND pickup_time >= datetime('now', '-7 days')",
        "expected_sql": "SELECT COUNT(*) as trip_count FROM trips WHERE trip_status = 'completed' AND pickup_time >= datetime('now', '-7 days')",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "trip_count",
              "actual": 65,
              "expected": 71
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "generated_sql": "SELECT SUM(t.total_amount) as total_revenue FROM trips t WHERE t.trip_status = 'completed' AND date(t.pickup_time) BETWEEN '2025-12-01' AND '2025-12-31'",
        "expected_sql": "SELECT SUM(total_amount) as total_revenue FROM trips WHERE trip_status = 'completed' AND strftime('%Y-%m', pickup_time) = '2025-12'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "generated_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, c.city_name, t.pickup_time, t.dropoff_time, t.trip_status FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN cities c ON t.pickup_city_id = c.city_id WHERE date(t.pickup_time) = date('now') ORDER BY t.pickup_time",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, pickup_time FROM trips WHERE trip_status = 'scheduled' AND date(pickup_time) = date('now')",
        "sql_similarity": 0.5333333333333333,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 0,
          "expected_rows": 6,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "generated_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, c.first_name || ' ' || c.last_name as customer_name, ci.city_name as pickup_city FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN customers c ON t.customer_id = c.customer_id JOIN cities ci ON t.pickup_city_id = ci.city_id",
        "expected_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, c.first_name || ' ' || c.last_name as customer_name, ci.city_name as pickup_city, t.total_amount FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN customers c ON t.customer_id = c.customer_id JOIN cities ci ON t.pickup_city_id = ci.city_id LIMIT 10",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 1000,
          "expected_rows": 10,
          "column_match": null,
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "generated_sql": "SELECT c.first_name || ' ' || c.last_name as customer_name, SUM(t.total_amount) as total_spent FROM customers c JOIN trips t ON c.customer_id = t.customer_id WHERE t.trip_status = 'completed' GROUP BY c.customer_id, c.first_name, c.last_name ORDER BY total_spent DESC LIMIT 5",
        "expected_sql": "SELECT c.first_name || ' ' || c.last_name as customer_name, SUM(t.total_amount) as total_spent FROM customers c JOIN trips t ON c.customer_id = t.customer_id WHERE t.trip_status = 'completed' GROUP BY c.customer_id, c.first_name, c.last_name ORDER BY total_spent DESC LIMIT 5",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "generated_sql": "SELECT v.make, v.model, COUNT(t.trip_id) as trip_count FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.make, v.model ORDER BY trip_count DESC LIMIT 1",
        "expected_sql": "SELECT v.make, v.model, COUNT(t.trip_id) as trip_count FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.make, v.model ORDER BY trip_count DESC LIMIT 1",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "generated_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, t.pickup_time, t.dropoff_time, t.trip_status FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN cities c ON t.pickup_city_id = c.city_id WHERE c.city_name = 'Seattle' ORDER BY t.pickup_time",
        "expected_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, t.total_amount FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN cities c ON t.pickup_city_id = c.city_id WHERE c.city_name = 'Seattle'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 110,
          "expected_rows": 110,
          "column_match": false,
          "actual_columns": [
            "driver_name",
            "trip_status",
            "dropoff_time",
            "pickup_time",
            "trip_id"
          ],
          "expected_columns": [
            "total_amount",
            "driver_name",
            "trip_id"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, d.rating, d.total_trips FROM drivers d JOIN cities c ON d.city_id = c.city_id WHERE d.status = 'active' AND c.city_name = 'New York' ORDER BY d.rating DESC",
        "expected_sql": "SELECT d.first_name, d.last_name, d.email, d.rating FROM drivers d JOIN cities c ON d.city_id = c.city_id WHERE d.status = 'active' AND c.city_name = 'New York'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "total_trips",
            "rating",
            "driver_name"
          ],
          "expected_columns": [
            "last_name",
            "email",
            "rating",
            "first_name"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "generated_sql": "SELECT t.trip_id, t.trip_status, v.make, v.status as vehicle_status FROM trips t JOIN vehicles v ON t.vehicle_id = v.vehicle_id WHERE t.trip_status = 'completed' AND v.make = 'Tesla'",
        "expected_sql": "SELECT t.trip_id, t.total_amount, t.pickup_time FROM trips t JOIN vehicles v ON t.vehicle_id = v.vehicle_id WHERE v.make = 'Tesla' AND t.trip_status = 'completed'",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 35,
          "expected_rows": 35,
          "column_match": false,
          "actual_columns": [
            "trip_status",
            "vehicle_status",
            "make",
            "trip_id"
          ],
          "expected_columns": [
            "total_amount",
            "pickup_time",
            "trip_id"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "generated_sql": "SELECT t.trip_id, t.total_amount FROM trips t WHERE t.trip_status = 'completed' ORDER BY t.total_amount DESC LIMIT 10",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, total_amount FROM trips ORDER BY total_amount DESC LIMIT 10",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": false,
          "actual_columns": [
            "total_amount",
            "trip_id"
          ],
          "expected_columns": [
            "driver_id",
            "total_amount",
            "customer_id",
            "trip_id"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "generated_sql": "SELECT first_name || ' ' || last_name as driver_name, rating FROM drivers ORDER BY rating DESC LIMIT 5",
        "expected_sql": "SELECT first_name || ' ' || last_name as driver_name, rating, total_trips FROM drivers WHERE rating IS NOT NULL ORDER BY rating DESC LIMIT 5",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": false,
          "actual_columns": [
            "rating",
            "driver_name"
          ],
          "expected_columns": [
            "total_trips",
            "rating",
            "driver_name"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "generated_sql": "SELECT trip_id, duration_minutes FROM trips ORDER BY duration_minutes DESC",
        "expected_sql": "SELECT trip_id, distance_miles, duration_minutes, total_amount FROM trips WHERE duration_minutes IS NOT NULL ORDER BY duration_minutes DESC LIMIT 5",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 1000,
          "expected_rows": 5,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 20 ORDER BY trip_count DESC",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 20 ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 0,
          "expected_rows": 0,
          "column_match": true,
          "value_match": true
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "generated_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name HAVING COUNT(t.trip_id) > 100 ORDER BY trip_count DESC",
        "expected_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name HAVING COUNT(t.trip_id) > 100 ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 3,
          "expected_rows": 3,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "generated_sql": "SELECT trip_status, COUNT(*) as trip_count FROM trips GROUP BY trip_status ORDER BY trip_count DESC",
        "expected_sql": "SELECT trip_status, COUNT(*) as count FROM trips GROUP BY trip_status ORDER BY count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": false,
          "actual_columns": [
            "trip_status",
            "trip_count"
          ],
          "expected_columns": [
            "trip_status",
            "count"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "generated_sql": "SELECT trip_status, AVG(total_amount) as average_trip_amount FROM trips GROUP BY trip_status ORDER BY trip_status",
        "expected_sql": "SELECT trip_status, AVG(total_amount) as avg_amount, COUNT(*) as count FROM trips GROUP BY trip_status ORDER BY avg_amount DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": false,
          "actual_columns": [
            "trip_status",
            "average_trip_amount"
          ],
          "expected_columns": [
            "trip_status",
            "count",
            "avg_amount"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "generated_sql": "SELECT payment_method, SUM(total_amount) as total_revenue FROM trips WHERE trip_status = 'completed' GROUP BY payment_method ORDER BY total_revenue DESC",
        "expected_sql": "SELECT payment_method, SUM(total_amount) as total_revenue, COUNT(*) as trip_count FROM trips WHERE payment_method IS NOT NULL GROUP BY payment_method ORDER BY total_revenue DESC",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": false,
          "actual_columns": [
            "payment_method",
            "total_revenue"
          ],
          "expected_columns": [
            "payment_method",
            "trip_count",
            "total_revenue"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "generated_sql": "SELECT COUNT(DISTINCT tp.trip_id) as trips_with_promotions FROM trip_promotions tp",
        "expected_sql": "SELECT COUNT(DISTINCT trip_id) as trips_with_promotions FROM trip_promotions",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "generated_sql": "SELECT SUM(discount_applied) as total_discount FROM trip_promotions",
        "expected_sql": "SELECT SUM(discount_applied) as total_discount FROM trip_promotions",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "generated_sql": "SELECT AVG(lifetime_value) as avg_lifetime_value FROM customers",
        "expected_sql": "SELECT AVG(lifetime_value) as avg_lifetime_value FROM customers",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "generated_sql": "SELECT strftime('%Y-%m', signup_date) as signup_month, COUNT(*) as customer_count FROM customers WHERE signup_date IS NOT NULL GROUP BY signup_month ORDER BY signup_month DESC",
        "expected_sql": "SELECT strftime('%Y-%m', signup_date) as signup_month, COUNT(*) as customer_count FROM customers WHERE signup_date IS NOT NULL GROUP BY signup_month ORDER BY signup_month DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 24,
          "expected_rows": 24,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "generated_sql": "SELECT AVG(total_trips) as average_trip_count_per_driver FROM drivers",
        "expected_sql": "SELECT AVG(total_trips) as avg_trips FROM drivers",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "average_trip_count_per_driver"
          ],
          "expected_columns": [
            "avg_trips"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as total_completed_trips, AVG(d.rating) as average_rating FROM drivers d LEFT JOIN trips t ON d.driver_id = t.driver_id AND t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY total_completed_trips DESC",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as completed_trips, AVG(t.rating) as avg_rating FROM drivers d LEFT JOIN trips t ON d.driver_id = t.driver_id AND t.trip_status = 'completed' AND t.rating IS NOT NULL GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 0 ORDER BY completed_trips DESC LIMIT 10",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 50,
          "expected_rows": 10,
          "column_match": null,
          "value_match": null
        },
        "correct": true,
        "error": null
      }
    ],
    "overall": [
      {
        "question": "What are the names and emails of all active drivers?",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "List all trips that were completed",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "What are the names of all cities in California?",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "How many trips does each city have?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total number of trips in the database?",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "What is the average trip amount?",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "How many drivers are in each city?",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "Which driver has completed the most trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average rating for each driver?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "List all trips scheduled for today",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "List all trips in Seattle with driver names",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Show all active drivers in New York",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What are the 10 most expensive trips?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What are the longest trips by duration?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What cities have more than 100 trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many trips are in each status?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total revenue by payment method?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "How many trips used promotions?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What is the total discount applied from promotions?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What is the average lifetime value of customers?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many customers signed up in each month?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average trip count per driver?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      }
    ]
  },
  "agent_metrics": {
    "intent_agent": {
      "total_calls": 34,
      "successful_calls": 28,
      "success_rate": 0.8235294117647058,
      "avg_latency_ms": 941.4788910320827,
      "min_latency_ms": 586.8628025054932,
      "max_latency_ms": 6514.439821243286,
      "avg_tokens": 438.60714285714283,
      "total_tokens": 12281,
      "tool_calls_usage": {
        "structured_tool_calls": 28,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 28,
        "accuracy_rate": 1.0,
        "total_validation_errors": 0,
        "avg_validation_errors_per_call": 0.0
      }
    },
    "table_agent": {
      "total_calls": 28,
      "successful_calls": 25,
      "success_rate": 0.8928571428571429,
      "avg_latency_ms": 1146.7094898223877,
      "min_latency_ms": 615.4587268829346,
      "max_latency_ms": 8590.335845947266,
      "avg_tokens": 382.6,
      "total_tokens": 9565,
      "tool_calls_usage": {
        "structured_tool_calls": 25,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 25,
        "accuracy_rate": 1.0,
        "total_validation_errors": 0,
        "avg_validation_errors_per_call": 0.0
      }
    },
    "column_prune_agent": {
      "total_calls": 68,
      "successful_calls": 56,
      "success_rate": 0.8235294117647058,
      "avg_latency_ms": 1143.70031441961,
      "min_latency_ms": 679.1799068450928,
      "max_latency_ms": 5161.312818527222,
      "avg_tokens": 532.8035714285714,
      "total_tokens": 29837,
      "tool_calls_usage": {
        "structured_tool_calls": 56,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 55,
        "accuracy_rate": 0.9821428571428571,
        "total_validation_errors": 1,
        "avg_validation_errors_per_call": 0.017857142857142856
      }
    },
    "sql_generation_agent": {
      "total_calls": 28,
      "successful_calls": 26,
      "success_rate": 0.9285714285714286,
      "avg_latency_ms": 1333.630791077247,
      "min_latency_ms": 696.0129737854004,
      "max_latency_ms": 9385.648012161255,
      "avg_tokens": 725.0769230769231,
      "total_tokens": 18852,
      "tool_calls_usage": {
        "structured_tool_calls": 26,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 26,
        "accuracy_rate": 1.0,
        "total_validation_errors": 0,
        "avg_validation_errors_per_call": 0.0
      }
    }
  },
  "reward_metrics": {
    "accuracy_score": 0.5497187675070028,
    "avg_latency_ms": 1141.379871587832,
    "latency_score": 0,
    "total_tokens": 70535,
    "estimated_cost": 0.0352675,
    "cost_score": 0.9647325,
    "reward_score": 0.4745411355042016
  }
}