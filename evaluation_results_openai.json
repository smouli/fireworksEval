{
  "provider": "OpenAI",
  "summary": {
    "intent_agent": {
      "accuracy": 0.9117647058823529,
      "total": 34,
      "correct": 31,
      "avg_confidence": 0.9117647058823529
    },
    "table_agent": {
      "avg_precision": 0.9215686274509803,
      "avg_recall": 1.0,
      "avg_f1": 0.946078431372549,
      "total": 34,
      "correct": 29
    },
    "column_prune_agent": {
      "avg_precision": 0.2426470588235294,
      "avg_recall": 0.2377450980392157,
      "avg_f1": 0.22700746965452848,
      "avg_token_savings": 75.07642519322383,
      "total": 34,
      "correct": 1
    },
    "sql_generation_agent": {
      "avg_sql_similarity": 0.9058823529411765,
      "sql_exact_match_rate": 0.7352941176470589,
      "result_match_rate": 0.38235294117647056,
      "total": 34,
      "correct": 26
    },
    "overall": {
      "accuracy": 0.6176470588235294,
      "total": 34,
      "correct": 21
    },
    "latency_metrics": {
      "intent_agent": {
        "avg_latency_ms": 1348.6793952829698,
        "min_latency_ms": 913.4469032287598,
        "max_latency_ms": 2401.017904281616,
        "total_tokens": 9420,
        "tool_calls_rate": 1.0
      },
      "table_agent": {
        "avg_latency_ms": 1256.2513421563542,
        "min_latency_ms": 891.4449214935303,
        "max_latency_ms": 1691.9119358062744,
        "total_tokens": 7378,
        "tool_calls_rate": 1.0
      },
      "column_prune_agent": {
        "avg_latency_ms": 2432.2955297387166,
        "min_latency_ms": 1238.2829189300537,
        "max_latency_ms": 4527.951955795288,
        "total_tokens": 32339,
        "tool_calls_rate": 1.0
      },
      "sql_generation_agent": {
        "avg_latency_ms": 2348.7709269804113,
        "min_latency_ms": 1071.376085281372,
        "max_latency_ms": 4912.53399848938,
        "total_tokens": 19216,
        "tool_calls_rate": 1.0
      }
    }
  },
  "detailed_results": {
    "intent_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "predicted_workspace": "mobility",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.8,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the average trip amount?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "predicted_workspace": "vehicle_operations",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.85,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "mobility",
        "correct": false,
        "confidence": 0.85,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "predicted_workspace": "promotions",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "predicted_workspace": "promotions",
        "expected_workspace": null,
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "customer_analytics",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "predicted_workspace": "customer_analytics",
        "expected_workspace": "customer_analytics",
        "correct": true,
        "confidence": 0.95,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "predicted_workspace": "mobility",
        "expected_workspace": "mobility",
        "correct": true,
        "confidence": 0.9,
        "error": null
      }
    ],
    "table_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "predicted_tables": [
          "drivers"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "predicted_tables": [
          "cities"
        ],
        "expected_tables": [
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "predicted_tables": [
          "cities",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "predicted_tables": [
          "drivers",
          "cities"
        ],
        "expected_tables": [
          "drivers",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "predicted_tables": [
          "cities",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "predicted_tables": [
          "vehicles",
          "trips"
        ],
        "expected_tables": [
          "vehicles",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "predicted_tables": [
          "customers",
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "predicted_tables": [
          "drivers",
          "cities",
          "trips",
          "customers"
        ],
        "expected_tables": [
          "drivers",
          "cities",
          "trips",
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "predicted_tables": [
          "trips",
          "customers"
        ],
        "expected_tables": [
          "customers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "predicted_tables": [
          "vehicles",
          "trips"
        ],
        "expected_tables": [
          "vehicles",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "predicted_tables": [
          "drivers",
          "cities",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "cities",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "predicted_tables": [
          "drivers",
          "cities"
        ],
        "expected_tables": [
          "drivers",
          "cities"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "predicted_tables": [
          "vehicles",
          "trips"
        ],
        "expected_tables": [
          "vehicles",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "predicted_tables": [
          "drivers"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "predicted_tables": [
          "cities",
          "trips"
        ],
        "expected_tables": [
          "cities",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "predicted_tables": [
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "predicted_tables": [
          "customers",
          "trips"
        ],
        "expected_tables": [
          "trips"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "predicted_tables": [
          "trip_promotions",
          "promotions",
          "trips"
        ],
        "expected_tables": [
          "trip_promotions"
        ],
        "precision": 0.3333333333333333,
        "recall": 1.0,
        "f1": 0.5,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "predicted_tables": [
          "trip_promotions",
          "promotions"
        ],
        "expected_tables": [
          "trip_promotions"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "predicted_tables": [
          "customers"
        ],
        "expected_tables": [
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "predicted_tables": [
          "customers"
        ],
        "expected_tables": [
          "customers"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers"
        ],
        "precision": 0.5,
        "recall": 1.0,
        "f1": 0.6666666666666666,
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "predicted_tables": [
          "drivers",
          "trips"
        ],
        "expected_tables": [
          "drivers",
          "trips"
        ],
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "correct": true,
        "error": null
      }
    ],
    "column_prune_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "table": "drivers",
        "predicted_columns": [
          "email",
          "last_name",
          "status",
          "driver_id",
          "first_name"
        ],
        "expected_columns": [
          "email",
          "last_name",
          "first_name"
        ],
        "precision": 0.6,
        "recall": 1.0,
        "f1": 0.7499999999999999,
        "token_savings_pct": 57.052797478329396,
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "table": "trips",
        "predicted_columns": [
          "trip_status",
          "trip_id"
        ],
        "expected_columns": [
          "driver_id",
          "trip_id",
          "customer_id",
          "total_amount"
        ],
        "precision": 0.5,
        "recall": 0.25,
        "f1": 0.3333333333333333,
        "token_savings_pct": 89.593147751606,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "table": "cities",
        "predicted_columns": [
          "city_id",
          "state",
          "city_name"
        ],
        "expected_columns": [
          "city_name"
        ],
        "precision": 0.3333333333333333,
        "recall": 1.0,
        "f1": 0.5,
        "token_savings_pct": 57.0528967254408,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "table": "cities",
        "predicted_columns": [
          "city_name",
          "city_id"
        ],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "city_name"
        ],
        "precision": 0.5,
        "recall": 0.5,
        "f1": 0.5,
        "token_savings_pct": 69.52141057934509,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "table": "trips",
        "predicted_columns": [
          "trip_id"
        ],
        "expected_columns": [
          "COUNT(*)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 94.04710920770879,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average trip amount?",
        "table": "trips",
        "predicted_columns": [
          "total_amount"
        ],
        "expected_columns": [
          "AVG(total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 93.96145610278373,
        "correct": false,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "city_id"
        ],
        "expected_columns": [
          "COUNT(d.driver_id)",
          "city_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 80.53585500394011,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "table": "cities",
        "predicted_columns": [
          "city_name",
          "city_id"
        ],
        "expected_columns": [
          "SUM(t.total_amount)",
          "city_name"
        ],
        "precision": 0.5,
        "recall": 0.5,
        "f1": 0.5,
        "token_savings_pct": 69.52141057934509,
        "correct": false,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "table": "drivers",
        "predicted_columns": [
          "last_name",
          "total_trips",
          "driver_id",
          "first_name"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 64.14499605988968,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "table": "drivers",
        "predicted_columns": [
          "driver_id",
          "rating"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "AVG(t.rating)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 80.85106382978722,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "table": "vehicles",
        "predicted_columns": [
          "vehicle_id",
          "vehicle_type"
        ],
        "expected_columns": [
          "vehicle_type",
          "SUM(t.total_amount)"
        ],
        "precision": 0.5,
        "recall": 0.5,
        "f1": 0.5,
        "token_savings_pct": 76.45403377110695,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "table": "trips",
        "predicted_columns": [
          "trip_status",
          "trip_id",
          "pickup_time"
        ],
        "expected_columns": [
          "COUNT(*)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 84.92505353319058,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "table": "customers",
        "predicted_columns": [
          "lifetime_value",
          "customer_id",
          "total_rides"
        ],
        "expected_columns": [
          "SUM(total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 66.29526462395543,
        "correct": false,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "table": "trips",
        "predicted_columns": [
          "dropoff_time",
          "trip_id",
          "pickup_time"
        ],
        "expected_columns": [
          "driver_id",
          "trip_id",
          "customer_id",
          "pickup_time"
        ],
        "precision": 0.6666666666666666,
        "recall": 0.5,
        "f1": 0.5714285714285715,
        "token_savings_pct": 84.62526766595289,
        "correct": false,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "table": "drivers",
        "predicted_columns": [
          "city_id",
          "last_name",
          "first_name"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "trip_id",
          "total_amount",
          "city_name",
          "first_name || ' ' || c.last_name"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 72.65563435776203,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "table": "trips",
        "predicted_columns": [
          "customer_id",
          "total_amount"
        ],
        "expected_columns": [
          "first_name || ' ' || c.last_name",
          "SUM(t.total_amount)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 89.37901498929335,
        "correct": false,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "table": "vehicles",
        "predicted_columns": [
          "model",
          "make",
          "vehicle_id"
        ],
        "expected_columns": [
          "model",
          "make",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.6666666666666666,
        "recall": 0.6666666666666666,
        "f1": 0.6666666666666666,
        "token_savings_pct": 68.10506566604127,
        "correct": false,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "table": "drivers",
        "predicted_columns": [
          "city_id",
          "last_name",
          "driver_id",
          "first_name"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "trip_id",
          "total_amount"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 64.38140267927503,
        "correct": false,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "table": "drivers",
        "predicted_columns": [
          "last_name",
          "driver_id",
          "status",
          "city_id",
          "first_name"
        ],
        "expected_columns": [
          "email",
          "last_name",
          "rating",
          "first_name"
        ],
        "precision": 0.4,
        "recall": 0.5,
        "f1": 0.4444444444444445,
        "token_savings_pct": 56.57998423955871,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "table": "vehicles",
        "predicted_columns": [
          "make",
          "vehicle_id",
          "status"
        ],
        "expected_columns": [
          "trip_id",
          "total_amount",
          "pickup_time"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 67.91744840525328,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "table": "trips",
        "predicted_columns": [
          "tip_amount",
          "trip_id",
          "total_amount",
          "fare_amount"
        ],
        "expected_columns": [
          "driver_id",
          "trip_id",
          "customer_id",
          "total_amount"
        ],
        "precision": 0.5,
        "recall": 0.5,
        "f1": 0.5,
        "token_savings_pct": 80.59957173447538,
        "correct": false,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "table": "drivers",
        "predicted_columns": [
          "last_name",
          "driver_id",
          "rating",
          "first_name"
        ],
        "expected_columns": [
          "total_trips",
          "first_name || ' ' || last_name",
          "rating"
        ],
        "precision": 0.25,
        "recall": 0.3333333333333333,
        "f1": 0.28571428571428575,
        "token_savings_pct": 64.69661150512215,
        "correct": false,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "table": "trips",
        "predicted_columns": [
          "duration_minutes",
          "trip_id"
        ],
        "expected_columns": [
          "duration_minutes",
          "distance_miles",
          "trip_id",
          "total_amount"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "token_savings_pct": 89.20770877944325,
        "correct": false,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "table": "drivers",
        "predicted_columns": [
          "last_name",
          "total_trips",
          "driver_id",
          "first_name"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "COUNT(t.trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 64.14499605988968,
        "correct": false,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "table": "cities",
        "predicted_columns": [
          "city_name"
        ],
        "expected_columns": [
          "COUNT(t.trip_id)",
          "city_name"
        ],
        "precision": 1.0,
        "recall": 0.5,
        "f1": 0.6666666666666666,
        "token_savings_pct": 82.49370277078086,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "table": "trips",
        "predicted_columns": [
          "trip_status",
          "trip_id"
        ],
        "expected_columns": [
          "trip_status",
          "COUNT(*)"
        ],
        "precision": 0.5,
        "recall": 0.5,
        "f1": 0.5,
        "token_savings_pct": 89.593147751606,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "table": "trips",
        "predicted_columns": [
          "trip_status",
          "trip_id",
          "total_amount"
        ],
        "expected_columns": [
          "trip_status",
          "AVG(total_amount)",
          "COUNT(*)"
        ],
        "precision": 0.3333333333333333,
        "recall": 0.3333333333333333,
        "f1": 0.3333333333333333,
        "token_savings_pct": 85.09635974304068,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "table": "customers",
        "predicted_columns": [
          "lifetime_value",
          "customer_id"
        ],
        "expected_columns": [
          "SUM(total_amount)",
          "payment_method",
          "COUNT(*)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 76.23026926648096,
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "table": "trip_promotions",
        "predicted_columns": [
          "trip_id",
          "promotion_id"
        ],
        "expected_columns": [
          "COUNT(DISTINCT trip_id)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 54.946996466431095,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "table": "trip_promotions",
        "predicted_columns": [
          "discount_applied"
        ],
        "expected_columns": [
          "SUM(discount_applied)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 72.43816254416961,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "table": "customers",
        "predicted_columns": [
          "lifetime_value",
          "customer_id"
        ],
        "expected_columns": [
          "AVG(lifetime_value)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 76.23026926648096,
        "correct": false,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "table": "customers",
        "predicted_columns": [
          "customer_id",
          "signup_date"
        ],
        "expected_columns": [
          "strftime('%Y-%m'",
          "signup_date)",
          "COUNT(*)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 76.6016713091922,
        "correct": false,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "table": "drivers",
        "predicted_columns": [
          "total_trips",
          "driver_id"
        ],
        "expected_columns": [
          "AVG(total_trips)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 80.29944838455478,
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "table": "drivers",
        "predicted_columns": [
          "total_trips",
          "driver_id",
          "rating"
        ],
        "expected_columns": [
          "first_name || ' ' || d.last_name",
          "COUNT(t.trip_id)",
          "AVG(t.rating)"
        ],
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "token_savings_pct": 72.41922773837668,
        "correct": false,
        "error": null
      }
    ],
    "sql_generation_agent": [
      {
        "question": "What are the names and emails of all active drivers?",
        "generated_sql": "SELECT first_name || ' ' || last_name as driver_name, email FROM drivers WHERE status = 'active'",
        "expected_sql": "SELECT first_name, last_name, email FROM drivers WHERE status = 'active'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 19,
          "expected_rows": 19,
          "column_match": false,
          "actual_columns": [
            "email",
            "driver_name"
          ],
          "expected_columns": [
            "email",
            "last_name",
            "first_name"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips that were completed",
        "generated_sql": "SELECT * FROM trips WHERE trip_status = 'completed'",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, total_amount FROM trips WHERE trip_status = 'completed'",
        "sql_similarity": 0.6000000000000001,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 250,
          "expected_rows": 250,
          "column_match": false,
          "actual_columns": [
            "duration_minutes",
            "customer_id",
            "trip_id",
            "dropoff_time",
            "total_amount",
            "pickup_time",
            "rating",
            "tip_amount",
            "driver_id",
            "payment_method",
            "trip_type",
            "fare_amount",
            "distance_miles",
            "vehicle_id",
            "pickup_city_id",
            "dropoff_city_id",
            "trip_status"
          ],
          "expected_columns": [
            "driver_id",
            "trip_id",
            "customer_id",
            "total_amount"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What are the names of all cities in California?",
        "generated_sql": "SELECT city_name FROM cities WHERE state = 'California'",
        "expected_sql": "SELECT city_name FROM cities WHERE state = 'California'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 2,
          "expected_rows": 2,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips does each city have?",
        "generated_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c LEFT JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY trip_count DESC",
        "expected_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c LEFT JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total number of trips in the database?",
        "generated_sql": "SELECT COUNT(*) as total_trips FROM trips",
        "expected_sql": "SELECT COUNT(*) as total_trips FROM trips",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount?",
        "generated_sql": "SELECT AVG(total_amount) as average_trip_amount FROM trips",
        "expected_sql": "SELECT AVG(total_amount) as avg_amount FROM trips",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "average_trip_amount"
          ],
          "expected_columns": [
            "avg_amount"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many drivers are in each city?",
        "generated_sql": "SELECT c.city_name, COUNT(d.driver_id) as driver_count FROM cities c LEFT JOIN drivers d ON c.city_id = d.city_id GROUP BY c.city_id, c.city_name",
        "expected_sql": "SELECT c.city_name, COUNT(d.driver_id) as driver_count FROM cities c LEFT JOIN drivers d ON c.city_id = d.city_id GROUP BY c.city_id, c.city_name ORDER BY driver_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "driver_count",
              "actual": 3,
              "expected": 10
            },
            {
              "row": 0,
              "column": "city_name",
              "actual": "Seattle",
              "expected": "San Francisco"
            },
            {
              "row": 1,
              "column": "driver_count",
              "actual": 3,
              "expected": 8
            },
            {
              "row": 1,
              "column": "city_name",
              "actual": "Los Angeles",
              "expected": "Miami"
            },
            {
              "row": 2,
              "column": "driver_count",
              "actual": 3,
              "expected": 6
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "generated_sql": "SELECT c.city_name, SUM(t.total_amount) as total_revenue FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY total_revenue DESC LIMIT 5",
        "expected_sql": "SELECT c.city_name, SUM(t.total_amount) as total_revenue FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name ORDER BY total_revenue DESC LIMIT 5",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Which driver has completed the most trips?",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY trip_count DESC LIMIT 1",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY trip_count DESC LIMIT 1",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average rating for each driver?",
        "generated_sql": "SELECT d.driver_id, AVG(d.rating) as average_rating FROM drivers d JOIN trips t ON d.driver_id = t.driver_id GROUP BY d.driver_id",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, AVG(t.rating) as avg_rating FROM drivers d LEFT JOIN trips t ON d.driver_id = t.driver_id AND t.rating IS NOT NULL GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.rating) > 0 ORDER BY avg_rating DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 50,
          "expected_rows": 50,
          "column_match": false,
          "actual_columns": [
            "driver_id",
            "average_rating"
          ],
          "expected_columns": [
            "driver_name",
            "avg_rating"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "generated_sql": "SELECT v.vehicle_type, SUM(t.total_amount) as total_revenue FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.vehicle_type ORDER BY total_revenue DESC",
        "expected_sql": "SELECT v.vehicle_type, SUM(t.total_amount) as total_revenue FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.vehicle_type ORDER BY total_revenue DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "generated_sql": "SELECT COUNT(*) as trip_count FROM trips WHERE trip_status = 'completed' AND pickup_time >= date('now', '-7 days')",
        "expected_sql": "SELECT COUNT(*) as trip_count FROM trips WHERE trip_status = 'completed' AND pickup_time >= datetime('now', '-7 days')",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "trip_count",
              "actual": 65,
              "expected": 71
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "generated_sql": "SELECT SUM(t.total_amount) as total_revenue FROM trips t WHERE t.trip_status = 'completed' AND date(t.pickup_time) >= '2025-12-01' AND date(t.pickup_time) < '2026-01-01'",
        "expected_sql": "SELECT SUM(total_amount) as total_revenue FROM trips WHERE trip_status = 'completed' AND strftime('%Y-%m', pickup_time) = '2025-12'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips scheduled for today",
        "generated_sql": "SELECT * FROM trips WHERE date(pickup_time) = date('now')",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, pickup_time FROM trips WHERE trip_status = 'scheduled' AND date(pickup_time) = date('now')",
        "sql_similarity": 0.4,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 0,
          "expected_rows": 6,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "generated_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name AS driver_name, c.first_name || ' ' || c.last_name AS customer_name, ci.city_name FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN customers c ON t.customer_id = c.customer_id JOIN cities ci ON t.pickup_city_id = ci.city_id",
        "expected_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, c.first_name || ' ' || c.last_name as customer_name, ci.city_name as pickup_city, t.total_amount FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN customers c ON t.customer_id = c.customer_id JOIN cities ci ON t.pickup_city_id = ci.city_id LIMIT 10",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 1000,
          "expected_rows": 10,
          "column_match": null,
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "generated_sql": "SELECT c.first_name || ' ' || c.last_name as customer_name, SUM(t.total_amount) as total_spent FROM customers c JOIN trips t ON c.customer_id = t.customer_id WHERE t.trip_status = 'completed' GROUP BY c.customer_id, c.first_name, c.last_name ORDER BY total_spent DESC LIMIT 5",
        "expected_sql": "SELECT c.first_name || ' ' || c.last_name as customer_name, SUM(t.total_amount) as total_spent FROM customers c JOIN trips t ON c.customer_id = t.customer_id WHERE t.trip_status = 'completed' GROUP BY c.customer_id, c.first_name, c.last_name ORDER BY total_spent DESC LIMIT 5",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "generated_sql": "SELECT v.make, v.model, COUNT(t.trip_id) as trip_count FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.vehicle_id, v.make, v.model ORDER BY trip_count DESC LIMIT 1",
        "expected_sql": "SELECT v.make, v.model, COUNT(t.trip_id) as trip_count FROM vehicles v JOIN trips t ON v.vehicle_id = t.vehicle_id GROUP BY v.make, v.model ORDER BY trip_count DESC LIMIT 1",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "model",
              "actual": "C-Class",
              "expected": "Camry"
            },
            {
              "row": 0,
              "column": "make",
              "actual": "Mercedes",
              "expected": "Hyundai"
            },
            {
              "row": 0,
              "column": "trip_count",
              "actual": 28,
              "expected": 69
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "List all trips in Seattle with driver names",
        "generated_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN cities c ON t.pickup_city_id = c.city_id WHERE c.city_name = 'Seattle'",
        "expected_sql": "SELECT t.trip_id, d.first_name || ' ' || d.last_name as driver_name, t.total_amount FROM trips t JOIN drivers d ON t.driver_id = d.driver_id JOIN cities c ON t.pickup_city_id = c.city_id WHERE c.city_name = 'Seattle'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 110,
          "expected_rows": 110,
          "column_match": false,
          "actual_columns": [
            "trip_id",
            "driver_name"
          ],
          "expected_columns": [
            "trip_id",
            "driver_name",
            "total_amount"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Show all active drivers in New York",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name FROM drivers d JOIN cities c ON d.city_id = c.city_id WHERE d.status = 'active' AND c.city_name = 'New York'",
        "expected_sql": "SELECT d.first_name, d.last_name, d.email, d.rating FROM drivers d JOIN cities c ON d.city_id = c.city_id WHERE d.status = 'active' AND c.city_name = 'New York'",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "driver_name"
          ],
          "expected_columns": [
            "email",
            "last_name",
            "rating",
            "first_name"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "generated_sql": "SELECT t.trip_id FROM trips t JOIN vehicles v ON t.vehicle_id = v.vehicle_id WHERE t.trip_status = 'completed' AND v.make = 'Tesla'",
        "expected_sql": "SELECT t.trip_id, t.total_amount, t.pickup_time FROM trips t JOIN vehicles v ON t.vehicle_id = v.vehicle_id WHERE v.make = 'Tesla' AND t.trip_status = 'completed'",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 35,
          "expected_rows": 35,
          "column_match": false,
          "actual_columns": [
            "trip_id"
          ],
          "expected_columns": [
            "trip_id",
            "total_amount",
            "pickup_time"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What are the 10 most expensive trips?",
        "generated_sql": "SELECT trip_id, total_amount FROM trips ORDER BY total_amount DESC LIMIT 10",
        "expected_sql": "SELECT trip_id, driver_id, customer_id, total_amount FROM trips ORDER BY total_amount DESC LIMIT 10",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 10,
          "expected_rows": 10,
          "column_match": false,
          "actual_columns": [
            "trip_id",
            "total_amount"
          ],
          "expected_columns": [
            "driver_id",
            "trip_id",
            "customer_id",
            "total_amount"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "generated_sql": "SELECT first_name || ' ' || last_name as driver_name, rating FROM drivers ORDER BY rating DESC LIMIT 5",
        "expected_sql": "SELECT first_name || ' ' || last_name as driver_name, rating, total_trips FROM drivers WHERE rating IS NOT NULL ORDER BY rating DESC LIMIT 5",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": false,
          "actual_columns": [
            "rating",
            "driver_name"
          ],
          "expected_columns": [
            "total_trips",
            "rating",
            "driver_name"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "What are the longest trips by duration?",
        "generated_sql": "SELECT trip_id, duration_minutes FROM trips ORDER BY duration_minutes DESC",
        "expected_sql": "SELECT trip_id, distance_miles, duration_minutes, total_amount FROM trips WHERE duration_minutes IS NOT NULL ORDER BY duration_minutes DESC LIMIT 5",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 1000,
          "expected_rows": 5,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "generated_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name HAVING trip_count > 20",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as trip_count FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 20 ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 0,
          "expected_rows": 0,
          "column_match": true,
          "value_match": true
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What cities have more than 100 trips?",
        "generated_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name HAVING COUNT(t.trip_id) > 100",
        "expected_sql": "SELECT c.city_name, COUNT(t.trip_id) as trip_count FROM cities c JOIN trips t ON c.city_id = t.pickup_city_id GROUP BY c.city_id, c.city_name HAVING COUNT(t.trip_id) > 100 ORDER BY trip_count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 3,
          "expected_rows": 3,
          "column_match": true,
          "value_match": false,
          "mismatches": [
            {
              "row": 0,
              "column": "trip_count",
              "actual": 110,
              "expected": 115
            },
            {
              "row": 0,
              "column": "city_name",
              "actual": "Seattle",
              "expected": "Chicago"
            },
            {
              "row": 1,
              "column": "trip_count",
              "actual": 115,
              "expected": 110
            },
            {
              "row": 1,
              "column": "city_name",
              "actual": "Chicago",
              "expected": "Seattle"
            }
          ]
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many trips are in each status?",
        "generated_sql": "SELECT trip_status, COUNT(*) as trip_count FROM trips GROUP BY trip_status",
        "expected_sql": "SELECT trip_status, COUNT(*) as count FROM trips GROUP BY trip_status ORDER BY count DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": false,
          "actual_columns": [
            "trip_status",
            "trip_count"
          ],
          "expected_columns": [
            "trip_status",
            "count"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "generated_sql": "SELECT trip_status, AVG(total_amount) as average_trip_amount FROM trips GROUP BY trip_status",
        "expected_sql": "SELECT trip_status, AVG(total_amount) as avg_amount, COUNT(*) as count FROM trips GROUP BY trip_status ORDER BY avg_amount DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 4,
          "expected_rows": 4,
          "column_match": false,
          "actual_columns": [
            "trip_status",
            "average_trip_amount"
          ],
          "expected_columns": [
            "trip_status",
            "count",
            "avg_amount"
          ],
          "value_match": null
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total revenue by payment method?",
        "generated_sql": "SELECT t.payment_method, SUM(t.total_amount) as total_revenue FROM trips t GROUP BY t.payment_method ORDER BY total_revenue DESC",
        "expected_sql": "SELECT payment_method, SUM(total_amount) as total_revenue, COUNT(*) as trip_count FROM trips WHERE payment_method IS NOT NULL GROUP BY payment_method ORDER BY total_revenue DESC",
        "sql_similarity": 0.4,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 5,
          "expected_rows": 5,
          "column_match": false,
          "actual_columns": [
            "total_revenue",
            "payment_method"
          ],
          "expected_columns": [
            "total_revenue",
            "payment_method",
            "trip_count"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "How many trips used promotions?",
        "generated_sql": "SELECT COUNT(DISTINCT trip_id) as trips_with_promotions FROM trip_promotions",
        "expected_sql": "SELECT COUNT(DISTINCT trip_id) as trips_with_promotions FROM trip_promotions",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the total discount applied from promotions?",
        "generated_sql": "SELECT SUM(tp.discount_applied) as total_discount FROM trip_promotions tp JOIN promotions p ON tp.promotion_id = p.promotion_id",
        "expected_sql": "SELECT SUM(discount_applied) as total_discount FROM trip_promotions",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average lifetime value of customers?",
        "generated_sql": "SELECT AVG(lifetime_value) as avg_lifetime_value FROM customers",
        "expected_sql": "SELECT AVG(lifetime_value) as avg_lifetime_value FROM customers",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "How many customers signed up in each month?",
        "generated_sql": "SELECT strftime('%Y-%m', signup_date) as signup_month, COUNT(*) as customer_count FROM customers WHERE signup_date IS NOT NULL GROUP BY signup_month ORDER BY signup_month DESC",
        "expected_sql": "SELECT strftime('%Y-%m', signup_date) as signup_month, COUNT(*) as customer_count FROM customers WHERE signup_date IS NOT NULL GROUP BY signup_month ORDER BY signup_month DESC",
        "sql_similarity": 1.0,
        "sql_exact_match": true,
        "result_match": true,
        "result_details": {
          "match": true,
          "row_count_match": true,
          "actual_rows": 24,
          "expected_rows": 24,
          "column_match": true,
          "value_match": true,
          "mismatches": []
        },
        "correct": true,
        "error": null
      },
      {
        "question": "What is the average trip count per driver?",
        "generated_sql": "SELECT AVG(trip_count) as average_trip_count FROM (SELECT driver_id, COUNT(trip_id) as trip_count FROM trips GROUP BY driver_id) as driver_trip_counts",
        "expected_sql": "SELECT AVG(total_trips) as avg_trips FROM drivers",
        "sql_similarity": 0.4,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": true,
          "actual_rows": 1,
          "expected_rows": 1,
          "column_match": false,
          "actual_columns": [
            "average_trip_count"
          ],
          "expected_columns": [
            "avg_trips"
          ],
          "value_match": null
        },
        "correct": false,
        "error": null
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "generated_sql": "SELECT d.driver_id, d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as total_completed_trips, AVG(t.rating) as average_rating FROM drivers d JOIN trips t ON d.driver_id = t.driver_id WHERE t.trip_status = 'completed' GROUP BY d.driver_id, d.first_name, d.last_name ORDER BY total_completed_trips DESC",
        "expected_sql": "SELECT d.first_name || ' ' || d.last_name as driver_name, COUNT(t.trip_id) as completed_trips, AVG(t.rating) as avg_rating FROM drivers d LEFT JOIN trips t ON d.driver_id = t.driver_id AND t.trip_status = 'completed' AND t.rating IS NOT NULL GROUP BY d.driver_id, d.first_name, d.last_name HAVING COUNT(t.trip_id) > 0 ORDER BY completed_trips DESC LIMIT 10",
        "sql_similarity": 0.8,
        "sql_exact_match": false,
        "result_match": false,
        "result_details": {
          "match": false,
          "row_count_match": false,
          "actual_rows": 50,
          "expected_rows": 10,
          "column_match": null,
          "value_match": null
        },
        "correct": false,
        "error": null
      }
    ],
    "overall": [
      {
        "question": "What are the names and emails of all active drivers?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "List all trips that were completed",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What are the names of all cities in California?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many trips does each city have?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total number of trips in the database?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average trip amount?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many drivers are in each city?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the top 5 cities by total trip revenue?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Which driver has completed the most trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average rating for each driver?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total revenue generated by each vehicle type?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many trips were completed in the last 7 days?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total revenue from completed trips in December 2025?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "List all trips scheduled for today",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "Show trip details with driver name, customer name, and pickup city",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the top 5 customers by total spending?",
        "correct": false,
        "intent_correct": false,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Which vehicle make and model has the most trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "List all trips in Seattle with driver names",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Show all active drivers in New York",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What are the completed trips for Tesla vehicles?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What are the 10 most expensive trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "Show the top 5 highest rated drivers",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "What are the longest trips by duration?",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      },
      {
        "question": "Which drivers have completed more than 20 trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What cities have more than 100 trips?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many trips are in each status?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average trip amount for each trip status?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the total revenue by payment method?",
        "correct": false,
        "intent_correct": false,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "How many trips used promotions?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What is the total discount applied from promotions?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": true
      },
      {
        "question": "What is the average lifetime value of customers?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "How many customers signed up in each month?",
        "correct": true,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": true
      },
      {
        "question": "What is the average trip count per driver?",
        "correct": false,
        "intent_correct": true,
        "table_correct": false,
        "sql_correct": false
      },
      {
        "question": "Show drivers with their total completed trips and average rating",
        "correct": false,
        "intent_correct": true,
        "table_correct": true,
        "sql_correct": false
      }
    ]
  },
  "agent_metrics": {
    "intent_agent": {
      "total_calls": 34,
      "successful_calls": 34,
      "success_rate": 1.0,
      "avg_latency_ms": 1348.6793952829698,
      "min_latency_ms": 913.4469032287598,
      "max_latency_ms": 2401.017904281616,
      "avg_tokens": 277.05882352941177,
      "total_tokens": 9420,
      "tool_calls_usage": {
        "structured_tool_calls": 34,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 34,
        "accuracy_rate": 1.0,
        "total_validation_errors": 0,
        "avg_validation_errors_per_call": 0.0
      }
    },
    "table_agent": {
      "total_calls": 34,
      "successful_calls": 34,
      "success_rate": 1.0,
      "avg_latency_ms": 1256.2513421563542,
      "min_latency_ms": 891.4449214935303,
      "max_latency_ms": 1691.9119358062744,
      "avg_tokens": 217.0,
      "total_tokens": 7378,
      "tool_calls_usage": {
        "structured_tool_calls": 34,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 34,
        "accuracy_rate": 1.0,
        "total_validation_errors": 0,
        "avg_validation_errors_per_call": 0.0
      }
    },
    "column_prune_agent": {
      "total_calls": 92,
      "successful_calls": 92,
      "success_rate": 1.0,
      "avg_latency_ms": 2432.2955297387166,
      "min_latency_ms": 1238.2829189300537,
      "max_latency_ms": 4527.951955795288,
      "avg_tokens": 351.5108695652174,
      "total_tokens": 32339,
      "tool_calls_usage": {
        "structured_tool_calls": 92,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 91,
        "accuracy_rate": 0.9891304347826086,
        "total_validation_errors": 1,
        "avg_validation_errors_per_call": 0.010869565217391304
      }
    },
    "sql_generation_agent": {
      "total_calls": 34,
      "successful_calls": 34,
      "success_rate": 1.0,
      "avg_latency_ms": 2348.7709269804113,
      "min_latency_ms": 1071.376085281372,
      "max_latency_ms": 4912.53399848938,
      "avg_tokens": 565.1764705882352,
      "total_tokens": 19216,
      "tool_calls_usage": {
        "structured_tool_calls": 34,
        "fallback_parsing": 0,
        "tool_calls_rate": 1.0
      },
      "tool_call_accuracy": {
        "accurate_calls": 34,
        "accuracy_rate": 1.0,
        "total_validation_errors": 0,
        "avg_validation_errors_per_call": 0.0
      }
    }
  }
}